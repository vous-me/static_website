<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palantir Technologies: 交互式深度解析</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Sky -->
    <!-- Application Structure Plan: A single-page application with a fixed left-sidebar navigation for seamless scrolling between thematic sections. This dashboard-style layout is chosen for its intuitive user flow, allowing users to get a high-level overview and then dive deep into specific areas like Technology, Financials, or Controversies. Key interactions include tabbed interfaces for product exploration, dynamic Chart.js visualizations for financial data, and card-based layouts for digestible content, which is superior to a linear report for exploring complex, multifaceted information. -->
    <!-- Visualization & Content Choices: 
        - Company Info -> Goal: Inform -> Presentation: Key stats cards, text blocks. Interaction: Simple hover states. Justification: Quickly establish context. Method: HTML/Tailwind.
        - Platforms -> Goal: Organize -> Presentation: Tabbed interface. Interaction: Click to switch content. Justification: Allows comparison of complex products without clutter. Method: HTML/JS.
        - "Ontology" Concept -> Goal: Explain -> Presentation: Simple diagram. Interaction: None. Justification: Visualizes a core abstract concept clearly. Method: HTML/Tailwind.
        - Financials -> Goal: Show Change & Compare -> Presentation: Bar and Line charts. Interaction: Tooltips on hover. Justification: Dynamically illustrates trends in revenue and profitability. Library: Chart.js.
        - Controversies -> Goal: Inform -> Presentation: Grid of cards. Justification: Breaks down complex issues into manageable chunks. Method: HTML/Tailwind.
        - Competition -> Goal: Compare -> Presentation: HTML table. Justification: Direct, feature-by-feature comparison. Method: HTML/Tailwind.
        - Investment Thesis -> Goal: Summarize -> Presentation: Two-column layout. Justification: Clearly presents opposing viewpoints. Method: HTML/Tailwind.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #1e293b; /* slate-800 */
        }
        .chart-container {
            position: relative;
            height: 40vh;
            max-height: 400px;
            width: 100%;
            max-width: 700px;
            margin: auto;
        }
        .nav-link {
            transition: all 0.2s ease-in-out;
        }
        .nav-link.active, .nav-link:hover {
            background-color: #e2e8f0; /* slate-200 */
            color: #0284c7; /* sky-600 */
            transform: translateX(2px);
        }
        .tab-button.active {
            border-color: #0ea5e9; /* sky-500 */
            background-color: #f0f9ff; /* sky-50 */
            color: #0ea5e9; /* sky-500 */
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-slate-50">

    <div class="flex">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="hidden lg:block w-64 bg-white h-screen fixed top-0 left-0 border-r border-slate-200 p-4 transition-transform duration-300 ease-in-out">
            <h1 class="text-xl font-bold text-slate-800 mb-2">Palantir 解析</h1>
            <p class="text-xs text-slate-500 mb-6">交互式深度报告</p>
            <nav id="nav-menu" class="flex flex-col space-y-2">
                <a href="#overview" class="nav-link p-2 rounded-md text-slate-600 font-medium">企业概览</a>
                <a href="#tech-core" class="nav-link p-2 rounded-md text-slate-600 font-medium">技术核心</a>
                <a href="#financials" class="nav-link p-2 rounded-md text-slate-600 font-medium">财务透视</a>
                <a href="#controversy" class="nav-link p-2 rounded-md text-slate-600 font-medium">核心争议</a>
                <a href="#competition" class="nav-link p-2 rounded-md text-slate-600 font-medium">市场格局</a>
                <a href="#thesis" class="nav-link p-2 rounded-md text-slate-600 font-medium">投资论点</a>
            </nav>
        </aside>

        <!-- Mobile Header & Menu Button -->
        <header class="lg:hidden fixed top-0 left-0 right-0 bg-white shadow-md z-20 p-4 flex justify-between items-center">
             <h1 class="text-lg font-bold text-slate-800">Palantir 解析</h1>
            <button id="menu-toggle" class="p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </header>

        <!-- Main Content -->
        <main class="w-full lg:ml-64 pt-16 lg:pt-0">
            <div class="p-4 sm:p-6 lg:p-8 space-y-12">
                
                <!-- Section 1: Overview -->
                <section id="overview" class="scroll-mt-16">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">企业概览：西方的操作系统</h2>
                    <p class="text-slate-600 max-w-4xl mb-8">
                        Palantir Technologies (NYSE: PLTR) 是一家独特的科技公司，其根基深植于后“9·11”时代的反恐任务。公司以“增强而非取代人类智能”为核心哲学，致力于为西方国家及其盟友的政府和商业机构提供数据驱动的决策操作系统。
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="font-bold text-sky-600">创立年份</h3>
                            <p class="text-3xl font-bold text-slate-800">2003</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="font-bold text-sky-600">CEO</h3>
                            <p class="text-3xl font-bold text-slate-800">Alex Karp</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="font-bold text-sky-600">核心使命</h3>
                            <p class="text-lg font-semibold text-slate-800 leading-tight mt-2">减少恐怖主义，同时维护公民自由</p>
                        </div>
                         <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="font-bold text-sky-600">股票代码</h3>
                            <p class="text-3xl font-bold text-slate-800">PLTR (NYSE)</p>
                        </div>
                    </div>
                </section>

                <!-- Section 2: Tech Core -->
                <section id="tech-core" class="scroll-mt-16">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">技术核心：平台生态系统</h2>
                    <p class="text-slate-600 max-w-4xl mb-8">
                        Palantir的实力并非单一产品，而是一个由多个平台组成的协同生态系统。其根基是独特的“本体论”技术，它为所有上层应用提供了坚实的数据基础，创建了组织的“数字孪生”。
                    </p>
                    
                    <div class="bg-white p-6 rounded-lg shadow-sm mb-8">
                        <h3 class="text-2xl font-bold mb-4 text-center text-slate-800">关键技术：本体论 (Ontology)</h3>
                        <p class="text-center text-slate-600 mb-6 max-w-2xl mx-auto">本体论是Palantir的“心脏”，它将组织内孤立的数据源整合成一个统一、连贯、代表真实世界业务对象的知识图谱，是其最关键的技术护城河。</p>
                        <div class="flex flex-col items-center justify-center space-y-2">
                            <div class="w-full max-w-sm bg-sky-500 text-white font-bold p-3 rounded-lg text-center shadow">应用层 (AIP, Foundry, Gotham)</div>
                            <div class="text-2xl">▲</div>
                            <div class="w-full max-w-md bg-sky-700 text-white font-bold p-4 rounded-lg text-center shadow-lg">本体论 (语义层 / 数字孪生)</div>
                             <div class="text-2xl">▲</div>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-2 w-full max-w-xl">
                                <div class="bg-slate-200 p-2 rounded text-center text-sm">ERP</div>
                                <div class="bg-slate-200 p-2 rounded text-center text-sm">CRM</div>
                                <div class="bg-slate-200 p-2 rounded text-center text-sm">传感器</div>
                                <div class="bg-slate-200 p-2 rounded text-center text-sm">电子表格</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                        <div id="tabs-container" class="flex border-b border-slate-200 bg-slate-50">
                            <button data-tab="gotham" class="tab-button flex-1 p-4 text-slate-600 border-b-4 border-transparent">Gotham</button>
                            <button data-tab="foundry" class="tab-button flex-1 p-4 text-slate-600 border-b-4 border-transparent">Foundry</button>
                            <button data-tab="apollo" class="tab-button flex-1 p-4 text-slate-600 border-b-4 border-transparent">Apollo</button>
                            <button data-tab="aip" class="tab-button flex-1 p-4 text-slate-600 border-b-4 border-transparent active">AIP</button>
                        </div>
                        <div id="tabs-content" class="p-6">
                            <!-- Gotham Content -->
                            <div id="gotham-content" class="hidden">
                                <h3 class="text-2xl font-bold mb-2">Palantir Gotham</h3>
                                <p class="text-sm font-semibold text-slate-500 mb-4">为政府、国防、情报机构打造的全球决策操作系统</p>
                                <p class="text-slate-700">Gotham能整合来自不同来源的海量数据（如信号情报、无人机视频流、财务文件等），将其转化为单一、连贯的数据资产，用于反恐调查、战场指挥和任务规划。其在追捕本·拉登等行动中发挥的作用，为Palantir赢得了极高声誉。</p>
                            </div>
                            <!-- Foundry Content -->
                            <div id="foundry-content" class="hidden">
                                <h3 class="text-2xl font-bold mb-2">Palantir Foundry</h3>
                                <p class="text-sm font-semibold text-slate-500 mb-4">现代企业的中央神经系统</p>
                                <p class="text-slate-700">Foundry将Palantir的核心技术扩展到商业市场，为制造业、金融、医疗等行业提供服务。它通过构建企业的“数字孪生”，帮助客户优化供应链（如空客）、加速药物研发（如NHS）、管理金融风险（如瑞士再保险），是公司当前最大的增长引擎。</p>
                            </div>
                            <!-- Apollo Content -->
                            <div id="apollo-content" class="hidden">
                                <h3 class="text-2xl font-bold mb-2">Palantir Apollo</h3>
                                <p class="text-sm font-semibold text-slate-500 mb-4">持续交付的自主引擎</p>
                                <p class="text-slate-700">Apollo是Palantir用来管理和部署其复杂平台的幕后功臣。它能自动化处理软件更新，支持在公有云、本地数据中心甚至潜艇等离线环境中进行部署。Apollo是Palantir商业模式得以规模化的关键，极大地提高了运营效率。</p>
                            </div>
                            <!-- AIP Content -->
                            <div id="aip-content">
                                <h3 class="text-2xl font-bold mb-2">Palantir AIP</h3>
                                <p class="text-sm font-semibold text-slate-500 mb-4">用人工智能武装数据</p>
                                <p class="text-slate-700">AIP (人工智能平台) 是Palantir对生成式AI革命的回应。它旨在将大型语言模型 (LLM) 安全地连接到组织的私有数据和核心业务中。AIP的核心优势在于，它能通过本体论为AI提供业务语境，确保AI安全、可靠地执行真实世界的任务，而不是产生误导性的“幻觉”。</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 3: Financials -->
                <section id="financials" class="scroll-mt-16">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">财务透视：从亏损到盈利的拐点</h2>
                    <p class="text-slate-600 max-w-4xl mb-8">
                        在上市前的17年里，Palantir从未盈利。然而，自2022年底以来，公司已实现持续的GAAP盈利，标志着其商业模式展现出强大的运营杠杆。其商业收入，特别是美国市场的爆发式增长，是当前的核心看点。
                    </p>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                             <h3 class="text-xl font-bold text-center mb-4 text-slate-800">总收入增长 (百万美元)</h3>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="text-xl font-bold text-center mb-4 text-slate-800">收入来源结构 (%)</h3>
                            <div class="chart-container">
                                <canvas id="revenueMixChart"></canvas>
                            </div>
                        </div>
                         <div class="bg-white p-6 rounded-lg shadow-sm lg:col-span-2">
                             <h3 class="text-xl font-bold text-center mb-4 text-slate-800">净利润轨迹 (百万美元)</h3>
                            <div class="chart-container">
                                <canvas id="netIncomeChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 4: Controversy -->
                <section id="controversy" class="scroll-mt-16">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">核心争议：权力与责任的边界</h2>
                     <p class="text-slate-600 max-w-4xl mb-8">
                        Palantir的崛起之路始终伴随着巨大的争议。这些争议不仅是公关问题，更直接关系到其商业模式的可持续性、市场接受度以及潜在的法律和监管风险。
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-amber-500">
                            <h3 class="text-xl font-bold mb-2">ICE合同与移民执法</h3>
                            <p class="text-slate-600">Palantir的软件被美国移民及海关执法局(ICE)用于追踪和驱逐无证移民，引发了人权组织对其助长“家庭分离”政策的持续抗议。</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-amber-500">
                            <h3 class="text-xl font-bold mb-2">预测性警务</h3>
                            <p class="text-slate-600">其平台曾被用于“预测性警务”，引发了对算法偏见和种族定性的严重担忧，批评者认为这会加剧现有的社会不公。</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-amber-500">
                            <h3 class="text-xl font-bold mb-2">大规模监控担忧</h3>
                            <p class="text-slate-600">与英国NHS签订的合同，以及与美国多个联邦机构的合作，引发了公众对建立“监控国家”基础设施的恐惧。</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm border-l-4 border-amber-500">
                            <h3 class="text-xl font-bold mb-2">政治结盟风险</h3>
                            <p class="text-slate-600">联合创始人Peter Thiel和CEO Alex Karp鲜明的政治立场，使公司与特定政治派别紧密绑定，带来了声誉和业务风险。</p>
                        </div>
                    </div>
                </section>
                
                <!-- Section 5: Competition -->
                <section id="competition" class="scroll-mt-16">
                     <h2 class="text-3xl font-bold text-slate-900 mb-4">市场格局：操作系统的差异化定位</h2>
                     <p class="text-slate-600 max-w-4xl mb-8">
                        尽管常被与Snowflake和Databricks相提并论，但Palantir的定位更高阶。它并非单纯的数据仓库，而是运行在数据之上的“操作系统”，专注于将数据转化为驱动业务的实际行动。
                    </p>
                    <div class="overflow-x-auto bg-white rounded-lg shadow-sm">
                        <table class="w-full text-sm text-left text-slate-500">
                            <thead class="text-xs text-slate-700 uppercase bg-slate-100">
                                <tr>
                                    <th scope="col" class="px-6 py-3">维度</th>
                                    <th scope="col" class="px-6 py-3 font-bold text-sky-600">Palantir</th>
                                    <th scope="col" class="px-6 py-3">Snowflake</th>
                                    <th scope="col" class="px-6 py-3">Databricks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white border-b">
                                    <th scope="row" class="px-6 py-4 font-medium text-slate-900 whitespace-nowrap">核心焦点</th>
                                    <td class="px-6 py-4 font-semibold">运营操作系统 (Operational OS)</td>
                                    <td class="px-6 py-4">云数据仓库</td>
                                    <td class="px-6 py-4">数据与AI湖仓平台</td>
                                </tr>
                                <tr class="bg-slate-50 border-b">
                                    <th scope="row" class="px-6 py-4 font-medium text-slate-900 whitespace-nowrap">关键技术</th>
                                    <td class="px-6 py-4 font-semibold">本体论, AIP</td>
                                    <td class="px-6 py-4">分离的存储与计算</td>
                                    <td class="px-6 py-4">Delta Lake, MLflow</td>
                                </tr>
                                 <tr class="bg-white border-b">
                                    <th scope="row" class="px-6 py-4 font-medium text-slate-900 whitespace-nowrap">目标用户</th>
                                    <td class="px-6 py-4 font-semibold">业务操作员, 指挥官</td>
                                    <td class="px-6 py-4">数据分析师, 工程师</td>
                                    <td class="px-6 py-4">数据科学家, 工程师</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
                
                <!-- Section 6: Thesis -->
                <section id="thesis" class="scroll-mt-16">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">投资论点：牛熊之争</h2>
                     <p class="text-slate-600 max-w-4xl mb-8">
                        对Palantir的投资决策最终归结于两种截然不同的叙事。这不仅是对一家软件公司的评估，更是对一种世界观的押注。
                    </p>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-green-500">
                            <h3 class="text-2xl font-bold mb-4 text-green-600 flex items-center">🐂 牛市论点</h3>
                            <ul class="space-y-3 text-slate-700 list-disc list-inside">
                                <li><strong class="font-semibold">技术霸权：</strong>“本体论”构成深厚护城河，AIP引领企业AI时代。</li>
                                <li><strong class="font-semibold">商业加速：</strong>美国商业业务爆发式增长，运营杠杆显现，持续盈利。</li>
                                <li><strong class="font-semibold">地缘政治顺风：</strong>全球冲突加剧，国防和情报平台需求强劲。</li>
                                <li><strong class="font-semibold">市场广阔：</strong>TAM从政府利基扩展到所有商业垂直领域，潜力巨大。</li>
                            </ul>
                        </div>
                         <div class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-red-500">
                            <h3 class="text-2xl font-bold mb-4 text-red-600 flex items-center">🐻 熊市论点</h3>
                            <ul class="space-y-3 text-slate-700 list-disc list-inside">
                                <li><strong class="font-semibold">极端估值：</strong>股价远超基本面，已计入未来近乎完美的执行。</li>
                                <li><strong class="font-semibold">集中度风险：</strong>高度依赖少数大型政府合同，易受政治影响。</li>
                                <li><strong class="font-semibold">ESG逆风：</strong>持续的伦理争议限制了其投资者基础。</li>
                                <li><strong class="font-semibold">激烈竞争：</strong>面临来自云巨头和数据平台公司的长期竞争压力。</li>
                            </ul>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const financialData = {
        years: ['2020', '2021', '2022', '2023', '2024'],
        revenue: {
            total: [1093, 1542, 1906, 2225, 2866],
            government: [610, 897, 1067, 1218, 1656],
            commercial: [483, 645, 839, 1007, 1210],
        },
        netIncome: {
             years: ['2019', '2020', '2021', '2022', '2023', '2024'],
             values: [-580, -1170, -520, -373, 210, 462] // Approximated values from sources
        }
    };

    // Revenue Chart
    const revenueCtx = document.getElementById('revenueChart').getContext('2d');
    new Chart(revenueCtx, {
        type: 'bar',
        data: {
            labels: financialData.years,
            datasets: [{
                label: '总收入',
                data: financialData.revenue.total,
                backgroundColor: 'rgba(2, 132, 199, 0.6)', // sky-600
                borderColor: 'rgba(2, 132, 199, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: '百万美元'
                    }
                }
            },
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return ` ${context.dataset.label}: ${context.formattedValue} 百万美元`;
                        }
                    }
                }
            }
        }
    });

    // Revenue Mix Chart
    const revenueMixCtx = document.getElementById('revenueMixChart').getContext('2d');
    const governmentPercentage = financialData.revenue.government.map((g, i) => 
        (g / financialData.revenue.total[i] * 100).toFixed(1));
    const commercialPercentage = financialData.revenue.commercial.map((c, i) =>
        (c / financialData.revenue.total[i] * 100).toFixed(1));

    new Chart(revenueMixCtx, {
        type: 'line',
        data: {
            labels: financialData.years,
            datasets: [
                {
                    label: '政府收入占比',
                    data: governmentPercentage,
                    borderColor: 'rgba(56, 189, 248, 1)', // sky-400
                    backgroundColor: 'rgba(56, 189, 248, 0.2)',
                    fill: true,
                    tension: 0.3
                },
                {
                    label: '商业收入占比',
                    data: commercialPercentage,
                    borderColor: 'rgba(234, 179, 8, 1)', // amber-500
                    backgroundColor: 'rgba(234, 179, 8, 0.2)',
                    fill: true,
                    tension: 0.3
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
             scales: {
                y: {
                    max: 100,
                    ticks: {
                        callback: function(value) {
                            return value + '%'
                        }
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return ` ${context.dataset.label}: ${context.formattedValue}%`;
                        }
                    }
                }
            }
        }
    });

    // Net Income Chart
    const netIncomeCtx = document.getElementById('netIncomeChart').getContext('2d');
    new Chart(netIncomeCtx, {
        type: 'line',
        data: {
            labels: financialData.netIncome.years,
            datasets: [{
                label: 'GAAP 净利润',
                data: financialData.netIncome.values,
                borderColor: (context) => {
                    const chart = context.chart;
                    const { ctx, chartArea } = chart;
                    if (!chartArea) return;
                    const gradient = ctx.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                    gradient.addColorStop(0.5, 'rgb(220, 38, 38)'); // red-600
                    gradient.addColorStop(0.5, 'rgb(22, 163, 74)'); // green-600
                    return gradient;
                },
                backgroundColor: (context) => {
                    const value = context.dataset.data[context.dataIndex];
                    return value >= 0 ? 'rgba(34, 197, 94, 0.1)' : 'rgba(239, 68, 68, 0.1)';
                },
                fill: true,
                tension: 0.1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    title: {
                        display: true,
                        text: '百万美元'
                    }
                }
            },
             plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return ` ${context.dataset.label}: ${context.formattedValue} 百万美元`;
                        }
                    }
                }
            }
        }
    });


    // Tabs Logic
    const tabsContainer = document.getElementById('tabs-container');
    const tabsContent = document.getElementById('tabs-content');
    const tabButtons = tabsContainer.querySelectorAll('.tab-button');
    const contentPanels = tabsContent.children;

    tabsContainer.addEventListener('click', (e) => {
        const clickedButton = e.target.closest('.tab-button');
        if (!clickedButton) return;

        tabButtons.forEach(button => button.classList.remove('active'));
        clickedButton.classList.add('active');

        const tabId = clickedButton.dataset.tab;

        for (let panel of contentPanels) {
            if (panel.id === `${tabId}-content`) {
                panel.classList.remove('hidden');
            } else {
                panel.classList.add('hidden');
            }
        }
    });

    // Navigation Logic
    const navMenu = document.getElementById('nav-menu');
    const sections = document.querySelectorAll('main section');
    const navLinks = navMenu.querySelectorAll('a');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                });
            }
        });
    }, { rootMargin: '-50% 0px -50% 0px' });

    sections.forEach(section => observer.observe(section));
    
    // Mobile menu toggle
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');

    menuToggle.addEventListener('click', () => {
        if(sidebar.classList.contains('hidden')){
            sidebar.classList.remove('hidden');
            sidebar.classList.add('fixed', 'bg-white', 'w-64', 'h-screen', 'top-0', 'left-0', 'shadow-xl', 'z-10', 'p-4', 'transform', 'translate-x-0');
            sidebar.classList.remove('-translate-x-full');
        } else {
             sidebar.classList.add('-translate-x-full');
             setTimeout(() => {
                sidebar.classList.add('hidden');
             }, 300);
        }
    });
    
    // Close mobile menu when clicking a link
    sidebar.addEventListener('click', (e) => {
        if (e.target.tagName === 'A' && !sidebar.classList.contains('lg:block')) {
            menuToggle.click();
        }
    });

});
</script>
</body>
</html>
